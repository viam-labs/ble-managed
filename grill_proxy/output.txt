RUST_LOG=debug cargo run
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.20s
     Running `target/debug/rust_viam_server`
[2024-07-22T18:47:32Z INFO  rust_viam_server] Started main method
[2024-07-22T18:47:32Z DEBUG rust_viam_server] Getting bluer session
[2024-07-22T18:47:32Z DEBUG rust_viam_server] Getting default adapter
[2024-07-22T18:47:32Z DEBUG rust_viam_server] Advertising self='mac1.loc1.viam.cloud' on service='79cf4eca-116a-4ded-8426-fb83e53bc1d7' characteristic='918ce61c-199f-419e-b6d5-59883a0049d8'
[2024-07-22T18:47:32Z INFO  rust_viam_server::peripheral] Registered advertisement
[2024-07-22T18:47:32Z INFO  rust_viam_server::peripheral] Advertising proxy device name char to be written to. Local device name: mac1.loc1.viam.cloud
[2024-07-22T18:47:32Z INFO  rust_viam_server::peripheral] Waiting for proxy device name to be written. Press Ctrl+C to quit.
[2024-07-22T18:47:58Z DEBUG rust_viam_server::peripheral] Accepting write request event with MTU 517
[2024-07-22T18:47:58Z DEBUG rust_viam_server::peripheral] trusting device that wrote this char 41:4B:A1:DC:24:5E
[2024-07-22T18:47:58Z DEBUG rust_viam_server::peripheral] 41:4B:A1:DC:24:5E is now trusted
[2024-07-22T18:47:58Z DEBUG rust_viam_server] Proxy device is 'd3e535ca.viam.cloud'
[2024-07-22T18:47:58Z INFO  rust_viam_server::central] Discovering on Bluetooth adapter hci0 with address 14:D4:24:7F:2C:16
    
[2024-07-22T18:47:58Z DEBUG rust_viam_server::central] start discover
[2024-07-22T18:47:59Z INFO  rust_viam_server::central] Device D4:3A:2C:B2:5F:1A connected=true paired=true trusted=true
[2024-07-22T18:47:59Z INFO  rust_viam_server::central] Device D4:3A:2C:B2:5F:1A provides target service public
[2024-07-22T18:47:59Z DEBUG rust_viam_server::central] getting resolved services
[2024-07-22T18:47:59Z DEBUG rust_viam_server::central] ... found 2 services
[2024-07-22T18:47:59Z DEBUG rust_viam_server::central] Service UUID: 00001801-0000-1000-8000-00805f9b34fb
[2024-07-22T18:47:59Z DEBUG rust_viam_server::central] Service UUID: 79cf4eca-116a-4ded-8426-fb83e53bc1d7
[2024-07-22T18:47:59Z INFO  rust_viam_server::central] Found target service
[2024-07-22T18:47:59Z DEBUG rust_viam_server::central] Checking name
[2024-07-22T18:47:59Z DEBUG rust_viam_server::central] Characteristic UUID: 918ce61c-199f-419e-b6d5-59883a0049d8
[2024-07-22T18:47:59Z INFO  rust_viam_server::central] Found name characteristic
[2024-07-22T18:47:59Z DEBUG rust_viam_server::central] Reading characteristic value
[2024-07-22T18:47:59Z DEBUG rust_viam_server::central] ensuring paired and trusted
[2024-07-22T18:47:59Z DEBUG rust_viam_server::central] Getting PSM
[2024-07-22T18:47:59Z DEBUG rust_viam_server::central] Characteristic UUID: ab76ead2-b6e6-4f12-a053-61cd0eed19f9
[2024-07-22T18:47:59Z INFO  rust_viam_server::central] Found psm characteristic
[2024-07-22T18:47:59Z DEBUG rust_viam_server::central] Reading characteristic value
[2024-07-22T18:47:59Z DEBUG rust_viam_server::central] Read value: [31, 37, 32]
[2024-07-22T18:47:59Z DEBUG rust_viam_server] Found device='D4:3A:2C:B2:5F:1A' that is waiting for l2cap connections on psm='172'; connecting
[2024-07-22T18:47:59Z DEBUG rust_viam_server::central] Connecting to L2CAP CoC at SocketAddr { addr: D4:3A:2C:B2:5F:1A, addr_type: LePublic, psm: 172, cid: 0 }
[2024-07-22T18:47:59Z INFO  rust_viam_server::socks] SOCKS proxy now listening on 127.0.0.1:5000
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Waiting for TCP stream to be readable...
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Incoming request from TCP stream: [
        5,
        1,
        0,
    ]
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Forwarding request to L2CAP stream...
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Reading response from L2CAP stream...
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Writing response to TCP stream: length of message was 2...
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Writing response to TCP stream: message was [
        5,
        0,
    ]...
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Waiting for TCP stream to be readable...
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Incoming request from TCP stream: [
        5,
        1,
        0,
        3,
        12,
        97,
        112,
        112,
        46,
        118,
        105,
        97,
        109,
        46,
        99,
        111,
        109,
        1,
        187,
    ]
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Forwarding request to L2CAP stream...
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Reading response from L2CAP stream...
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Writing response to TCP stream: length of message was 10...
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Writing response to TCP stream: message was [
        5,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
    ]...
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Waiting for TCP stream to be readable...
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Continuing due to possible block...
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Waiting for TCP stream to be readable...
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Incoming request from TCP stream: [
        22,
        3,
        1,
        1,
        2,
        1,
        0,
        0,
        254,
        3,
        3,
        64,
        33,
        18,
        167,
        164,
        114,
        137,
        224,
        84,
        200,
        233,
        30,
        199,
        102,
        252,
        241,
        94,
        87,
        153,
        199,
        251,
        53,
        121,
        36,
        186,
        45,
        137,
        148,
        216,
        41,
        17,
        191,
        32,
        123,
        20,
        207,
        220,
        240,
        205,
        184,
        203,
        253,
        240,
        156,
        228,
        40,
        151,
        192,
        164,
        64,
        223,
        199,
        95,
        28,
        216,
        9,
        208,
        40,
        89,
        156,
        236,
        31,
        1,
        3,
        134,
        0,
        28,
        192,
        43,
        192,
        47,
        192,
        44,
        192,
        48,
        204,
        169,
        204,
        168,
        192,
        9,
        192,
        19,
        192,
        10,
        192,
        20,
        192,
        18,
        19,
        1,
        19,
        2,
        19,
        3,
        1,
        0,
        0,
        153,
        0,
        0,
        0,
        17,
        0,
        15,
        0,
        0,
        12,
        97,
        112,
        112,
        46,
        118,
        105,
        97,
        109,
        46,
        99,
        111,
        109,
        0,
        5,
        0,
        5,
        1,
        0,
        0,
        0,
        0,
        0,
        10,
        0,
        10,
        0,
        8,
        0,
        29,
        0,
        23,
        0,
        24,
        0,
        25,
        0,
        11,
        0,
        2,
        1,
        0,
        0,
        13,
        0,
        26,
        0,
        24,
        8,
        4,
        4,
        3,
        8,
        7,
        8,
        5,
        8,
        6,
        4,
        1,
        5,
        1,
        6,
        1,
        5,
        3,
        6,
        3,
        2,
        1,
        2,
        3,
        255,
        1,
        0,
        1,
        0,
        0,
        23,
        0,
        0,
        0,
        16,
        0,
        5,
        0,
        3,
        2,
        104,
        50,
        0,
        18,
        0,
        0,
        0,
        43,
        0,
        5,
        4,
        3,
        4,
        3,
        3,
        0,
        51,
        0,
        38,
        0,
        36,
        0,
        29,
        0,
        32,
        31,
        187,
        252,
        54,
        255,
        167,
        171,
        60,
        125,
        186,
        121,
        24,
        84,
        38,
        232,
        24,
        30,
        53,
        160,
        126,
        177,
        168,
        235,
        216,
        8,
        57,
        200,
        247,
        205,
        158,
        194,
        101,
    ]
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Forwarding request to L2CAP stream...
[2024-07-22T18:48:12Z DEBUG rust_viam_server::socks] Reading response from L2CAP stream...
[2024-07-22T18:48:13Z DEBUG rust_viam_server::socks] Writing response to TCP stream: length of message was 672...
[2024-07-22T18:48:13Z DEBUG rust_viam_server::socks] Waiting for TCP stream to be readable...
[2024-07-22T18:48:13Z DEBUG rust_viam_server::socks] Continuing due to possible block...
[2024-07-22T18:48:13Z DEBUG rust_viam_server::socks] Waiting for TCP stream to be readable...
[2024-07-22T18:48:32Z DEBUG rust_viam_server::socks] Incoming request from TCP stream: []
[2024-07-22T18:48:32Z DEBUG rust_viam_server::socks] Forwarding request to L2CAP stream...
[2024-07-22T18:48:32Z DEBUG rust_viam_server::socks] Reading response from L2CAP stream...
[2024-07-22T18:48:32Z DEBUG rust_viam_server::socks] Writing response to TCP stream: length of message was 672...
[2024-07-22T18:48:32Z DEBUG rust_viam_server::socks] Waiting for TCP stream to be readable...
[2024-07-22T18:48:32Z DEBUG rust_viam_server::socks] Incoming request from TCP stream: []
[2024-07-22T18:48:32Z DEBUG rust_viam_server::socks] Forwarding request to L2CAP stream...
[2024-07-22T18:48:32Z DEBUG rust_viam_server::socks] Reading response from L2CAP stream...
[2024-07-22T18:48:32Z DEBUG rust_viam_server::socks] Writing response to TCP stream: length of message was 672...
Error: Error { kind: Internal(Io(BrokenPipe)), message: "Broken pipe (os error 32)" }
make: *** [Makefile:4: run] Error 1
